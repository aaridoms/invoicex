import jsPDF from "jspdf";
import autoTable from "jspdf-autotable";
import { saveInvoice } from "./invoicesStore";
import { getSettings } from "./settingsStore";

const logoBase64 =
  "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIbGNtcwIQAABtbnRyUkdCIFhZWiAH4gADABQACQAOAB1hY3NwTVNGVAAAAABzYXdzY3RybAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWhhbmSdkQA9QICwPUB0LIGepSKOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAF9jcHJ0AAABDAAAAAx3dHB0AAABGAAAABRyWFlaAAABLAAAABRnWFlaAAABQAAAABRiWFlaAAABVAAAABRyVFJDAAABaAAAAGBnVFJDAAABaAAAAGBiVFJDAAABaAAAAGBkZXNjAAAAAAAAAAV1UkdCAAAAAAAAAAAAAAAAdGV4dAAAAABDQzAAWFlaIAAAAAAAAPNUAAEAAAABFslYWVogAAAAAAAAb6AAADjyAAADj1hZWiAAAAAAAABilgAAt4kAABjaWFlaIAAAAAAAACSgAAAPhQAAtsRjdXJ2AAAAAAAAACoAAAB8APgBnAJ1A4MEyQZOCBIKGAxiDvQRzxT2GGocLiBDJKwpai5+M+s5sz/WRldNNlR2XBdkHWyGdVZ+jYgskjacq6eMstu+mcrH12Xkd/H5////2wBDAAkGBwgHBgkICAgKCgkLDhcPDg0NDhwUFREXIh4jIyEeICAlKjUtJScyKCAgLj8vMjc5PDw8JC1CRkE6RjU7PDn/2wBDAQoKCg4MDhsPDxs5JiAmOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTn/wAARCAPAA8ADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3GiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoopKAFooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKxNd8V6DoCE6lqlvA4GRFvzIfoo5Nec618cLeMtHo+kyTYzia5fYv12jJoA9hqtfX1np8BmvbqC2iBALzSBFyfc182ax8TfFuq5Dal9kiP/LOzTy//AB45auTup5rybz7ueW4lIA8yZ2dsemSTQB9K6j8UfB9idp1dJ2BIxbo0mCPoK5i9+Oelx7fsWi30/r5zpD/jXhtFAHqd58b9bljItNLsIGJ+VnZ5MD6cc1jX3xb8Y3TKYr63swP4YLZDn6799cLRQB0d5488W3kvmS+IL0NjH7l/KX8kwKpXXifxBdpsuNc1KVf7puX/AMayaKQiz/aOoY41C9/8CH/xpf7R1D/oI3v/AIEP/jVWigC1/aOof9BG9/8AAh/8adFqupxOHj1O9Vh3Fw/+NU6KANz/AITLxR/0MWq/+BL1owfE3xpBEsUeuyFVGP3kETt+JKkmuSopjPR7f40eKYnTzYdNnRfvAwspb8Q2BW1afHWZQftmgI5z1guccf8AAlrx6igD6FsPjP4WuSRcLf2RGOZYNwP02E11WleMPDmrOsdhrVlNIzbFQSgOT6BTya+UKRlDDBAP1FAH2YCCMjpS18k6V4l1zRwi6dq15bonCxiUlAM5xtORj8BXbaL8aNfsyq6laWuoR9CyjypP6igD6Aorz/QPi34Y1UBbqZtMm/u3I+X8HHFd3bXMF1Cs1vNHNEwyHjYMD+IoAlooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoopjsEQszBVAySTgAUAPqOWVIUaSR1SNRlmc4A/GvOPFnxf0jSTJbaSv8Aad2pKllOIVPu3f8ACvHPE/jDXPFEhOpXjGDPy20XyRL+Hf8AGgD2nxL8XdA0rzINPL6ndLxiHiIH3c15T4i+JnifXN0f2z7BbNn9zafIfxfrXHdsdqKQhWJLFiSWblmJ5P1PU0n6CiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooADz9fY1f0fWtU0SbztLv7izbuIm+U/VfumqFFAHrXhn41XkLLD4gsluIv8An5tvlcfVD1r1fw94r0TxJD5mlahDOw+9GTtdfqp5r5Op8MstvMk8EjxTIcrIjFWH0IoGfZNFeA+FfjHqumhLfW4f7Stxx5ynbMPr2avZPDXinR/E9qbjSrxZtv34z8rp9VPIpgbVFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFRXE8VtC888iRQxjc7ucKo9STXi3jz4vyT77DwwxSPkNfleW4/5Zqen+8aAPQ/GXj3RvCcZS5l8+9K5S0iOXPpu/uj3NeD+LvHuueKnZLmc21l2tIGIQ/wC8f4q5maSSeZ5ppHllkYs8jtuZyepJPUmmUhAOmOgHpRRRQAUUUUAF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tfgXpqSZutbvJk/uxxJGfz5q9/wpHwz/AM/ur/8Af6P/AOIr02igDy6f4IeH2iIt9S1SKT+87o4/LaKzZfgTEIm8rxFN5mPl32q4/HmvY6KAPBbz4Ia9Hj7JqmnTeok8yP8A+Krk9T+H/izS1L3OiXDIASWgxMAB67c4r6mpKAPjZ1aOUwyIySqcFHXDA/Q02vrnV9A0jWYvL1LTba6X/prGC359a848RfBOwnV5dCvZLSTqIZyXjJ/3vvCgDw2itfxF4a1nw1MI9WsXgU8LKPmjf6N079KyKQgooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKALek6ld6PqdtqVjL5dzbOHRucH1U47HkH2r6l8H+IrXxRoVvqdtkFxtljI5jkH3l/Ovk+uw+GHi0+FdfAnkxpl4RHcDPCH+F/wAKBn05RTUZXQMrBlIyCD1p1MAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAILy5hsrWW6uZFigiUvI7HAUDqa+VvGfiOfxT4guNTlJEROy3T+5EOn59TXqHx28VeRbx+GbVv3k4Et0R2j/AIV/4Ea8ToAKKKKQgooooAKKKKACiiigAooooAKKKKACiiigAooo9hk9uBQAV1vgn4f6t4sZZ1/0PTM/NdOud3tGO5rsvh38JmmKan4ngKplWhsSevvL/wDE17TFGkKLHGipGowqqMAD2FAzC8JeD9G8K23l6dbDzmHz3EvzSv8AVvT2FdDRRTAKKKKACiiigAooooAKKKKACiiigAooooAhubaC7haC4hjmhcYaORQyt9Qa8h8bfBxH8y+8MHy35LWMjfK3+4e3417JSHpQB8c3dtcWV1La3UMkFxESrxyDayn6VFX1F438EaX4utD9oQQ3yLiG7QfOnsfUe1fOninw7qHhfVX07UIwD1hlUfJMn95f8O1IDIooooEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFB9OooooA98+CXi1tV0l9EvJC15YKDGzNkyRdj/wHpXp9fI3hzWrjw9rlnq1sTvt3yyg/fT+JfxFfV+l31vqmn299auHguEDow9DTGW6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACqeq6jb6Tp1zf3T7ILaMyO3sKuV478ffEJjhs/D0D4ab/AEi5x/cB+RfxagDyPW9UuNb1i81S6/111IZCvZR2X8BiqNFFIQUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUEgDJOAKAD8/oO9e6fCv4aDTfK1zXYs3/DW9sw4t/wDab/b/AJVX+D3gBIIYPEWr27faWw9pDIP9UvaQj+8eo9BXsFMYgGBiloooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArK8Q6Dp3iPTZLDUrdZYW6HoyH+8p7GtWigD5U8a+Er/wjqhtbrMttJk29yBgSgdj6MO4rnq+tvE+g2XiTRp9NvkzHKMq4HzRt2Ye4r5f8T+H77wzrM2l3+0yoNyOg+WVDnDD69MdiKQGTRR2ooEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAH0617N8BPEuUuPDVw/wBzM9oCf4f4l/PmvGavaFqk2h6zZ6pb/wCstZRJj+8O6/iM0AfX1FVtOvINRsLe9t2DwXEayxn1UjIqzTGFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUARXE0dvBJNM4SKNSzMeigck18meKNal8ReIL7VpSf9IlJjB6rGOEX8BXunxu1w6V4QeyifFxqb+QPUR4y5/LA/GvnegAooopCCiiigAooooAKKKKACiiigAooooAKKKKACvRfg/wCChr+pDV7+P/iW2UgCA/8ALaYEHH+6tcd4Z0S58R65a6Va5V52+aTH+rQdWNfVej6XaaNpltp1lH5dtbRiNB1OB3J9T1NAy4BS0UUwCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArj/iP4Oh8XaI0aqi6hAC9tKV790P8AstXYUUAfG88M1tPLb3EbRTxOUkRhyrg4IPvmo69g+OfhERSDxPYxYViIr1VHf+GT+hrx+kIKKKKACiiigAooooAKKKKACiiigAooooAKPpRRQB7t8BNf+16Lc6FKxMti3mR5/wCeTHgfga9Wr5Y+HOu/8I94x069ZitvI/kXHpsfjn6Haa+phzTGLRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFIelLVLWNRh0nSrzUZ/8AVWsTStzjIAzj8aAPnz40a4dX8Zy2qn/R9NT7Oo/2zhnP8h/wGuDqS5uJru5murgkzzSNJIT3YnJqOkIKKKKACiiigAooooAKKKKACiiigAooooAKO3PT3NFdJ8PfDv8AwlHiq0sHXNqn765P/TNccficCgD174K+Ff7H0E6vdR4vdSVWAI5jh/hH49TXpVNRQihVACgYAHanUxhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAFbUbK31KwuLK6jElvcI0cinupGDXyl4q0Kbw14gvNJnLMYGzHIf+WkZ5Vvy4P0r62ryn46+G/tukQ69bRjz7D5J8fxQn/4k0AeE0UUUhBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAAQGUg5weK+o/hvrx8ReD9PvZG3TovkT/8AXROCfx4P418uV69+z5q/l3mqaLI3EqrdRAnuPlb+aGgD26iiimMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvN/jrrAsPB62CN++1GZY8Z58tcM/wD7KP8AgVekV8//AB61T7V4rttOV8pY24LLk8O/P8gtAHmfb1ooopCCiiigAooooAKKKKACiiigAooooAKKKKACvffgRoP2Dw7LrEqET6i3yZ7RLwv58mvDNK0+XVtVtNOhH7y6lWIH0yefX3r640+yh06ygs7ddsMEaxoPYDFMZaooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKgvbWG+s57SdQ0MyNG6nuCMGp6KAPkLXtKl0PWr7Spsl7WUoGP8S/wt+IxVCvWPj7oX2fU7LXI1+W5X7PN/vLyp/EV5PSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFdB4B1f+w/GOlX7OFhEwimJOAI3+VifpkGufoOcfKSrdiKAPsulrF8G6oNa8LaXqOctPbozndu+cDDc/UGtqmMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvk7xtqLar4w1e8LEq9y6pk5+VTtH8q+nvEmojSNB1DUCYwbe3eRfMOFLAfKD9TgV8ipkKM8HHYUALRRRSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAei/AzSPt3i6TUHUGLT4SRn/no/Ar6HrzP4D6WbPwnLfspD385YZxyi/KK9MpjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA5P4o6P/bXgrUrdFzNFH9oi/3k5r5fUhgGByDX2U6K6MjDKsCDXyN4j05tI8QalpzDH2a4dBznjOR+hFAGdRRRSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUGgD6B+Aupfa/B81mzMzWVyyrnsjfMAPzNel14P8As+6h5HiDVLA7dtzbLKDnksjdAPo5Ne7imMWiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDhfjRe/Y/AN8oKBrl44Ru75YE4/Kvm2vcv2hropoukWYQETXLSbv7uxf/ALKvDaQgooooAKKKKACiiigAooooAKKKKACiiigApHOFPGeKWtHw7Zf2j4h0yxyw8+6jQlRkgbutAH1D4NsF0vwppVkuP3VsmcDALEZJ/MmtqkFLTGFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV87/HTTjaeNRdhf3d7bq2e25flNfRFeR/tCaeH0rStSVFzDO0Lt3w44H5rQB4fRRRSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAdZ8Kbv7H8QNIbapErtCd3+0pHFfUAr4/0e6+wazp94F3G3uY5QvTOGBxX2BTGFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHhH7Qk4fX9KtxLny7ZnKZ6Fm6/jivKq7/443Ec3j6REPzQW0SP7Hlv5NXAUhBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXZ/B+2Fz8QdOJcr5KySgDvhOlcZXqP7P1q0niXUrowgxxWgTfj7rM/T8QDQB712paKKYwooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACuI+MlkbzwBqBVULwFZ13dsEZI98Gu3rH8Y2kd94V1a3lQsjWshwDg5Ckj9QKAPkuikQ5RSeuKWkIKKKKACiiigAooooAKKKKACiiigAooooAR8hWIzkA4xX174fuPtWhafcGUSmW2jZpAc7iVGTmvkM+p4FfUnwxmjn8AaG0bAhbVUP1Xg/qKAOoooopjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAPmT4vSJN8RdXaNtwHlKfYiNQRXHVvePv+R41/wD6/ZP51g0hBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAAa9r/Z2t3W0125P+reWKNfqoYn/0IV4pXvH7PaOvhrUnIIRrz5T64RaYz1SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACkIBBBGRS0UAfG9xG8NzPFIpR45GVl9CDio60/FGf+En1jOc/bZuv++azKQgooooAKKKKACiiigAooooAKKKKACiiigAPT8K+l/g26t8OtKAIJUzBsevmvXzRX0F8Aj/xRE/8A1/y/+gpQB6VRRRTGFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfKPj3/keNf8A+v6T+dYNa/i9mfxZrLMcsbyXJ9eayKQgooooAKKKKACiiigAooooAKKKKACiiigAr6H+BH/Iij/r7m/mK+eK+iPgT/yIg/6+5v5imM9EooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoopO1AHyt8RlVPHmuqoAH2pjx7gGudre8fXEV3421ueFsxtduB+GFP8AKsGkIKKKKACiiigAooooAKKKKACiiigAooooAK+gvgD/AMiRP/1/yf8AoKV8+19AfAA/8UZcj0v5P/QUoA9MooopjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKQ0tFAHyd44QReNNdRRhVvZMD8axK3vHv/I8a/8A9f0n86waQgooooAKKKKACiiigAooooAKKKKACiiigAr6I+BH/IiD/r7m/mK+d69/+AN0JfCF1b7cfZ7xxn13BTTGem0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfIviX/kZdX/6/Zv8A0M1m1a1W5F5q19dAYE1xJJz7sTVWkIKKKKACiiigAooooAKKKKACiiigAooooAK+gfgCAPBNwfW/k/8AQUr5+r6C+AP/ACJE/wD1/wAn/oKUAelUUUUxhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHy18TbNrLx/rcbMG3z+d9A6hv61zFdv8aIJIviJfu4+WaKF0+mwL/NTXEUhBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACjrx1r3H9nieNtG1e3B/eJco7D0BTA/8AQTXhteu/s8XaJqOt2RB8yWKKYH2UsP5vTGe30UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVHcTR21vLPKwWKJC7sewAyTUlYnjO7isfCmr3Eudi2kgOBk8qQP1NAHyexDOzA8MxI+lJSIMIo74FLSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAHSvov4G2bWvgGGVjn7VcSzD252Y/8cr50r6c+EkD2/w70ZJMZaN5B/utIzD9CKAOwooopjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAPn74+2zReMLW4yNs9muB6FWNeaV7H+0RaKJNDvQG3nzYT6Y+UivHKQgooooAKKKKACiiigAooooAKKKKACiiigAr0H4GXclv46EKlQlzbOj59sMMflXn1dD8PbsWXjjRJiMj7UsZycY3fLn9aAPquiiimMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArivjBdNafD/VCu3MoWLn3YV2teVftB3nleHNOs9uftF3v3f3din/GgDwiiiikIKKKKACiiigAooooAKKKKACiiigAooooACdoyeAK+r/Ato1j4N0W2dgzR2ceSOn3Qa+UVTzHVOSHYLwOTk44r7Es7dLOzgtY8+XBGsa564AwKBk9FFFMAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDzT49W3neDI5wQDbXcbn3Byv9a+fq+pviRY/2h4G1qAbARbtLlhkDZ83/spr5ZXkA9qQBRRRQIKKKKACiiigAooooAKKKKACiiigApVkMMiTKAWiYOM+xzSUUAfYWm3aX2nW14hUrPEsgKnI5GatVxfwg1P+0vAOm7mJktg1s+RjlDxj8MV2lMYUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXgf7QF+s/ibT7JSD9mtizc92Pp9BXvZr5X+Iup/wBr+N9XuwwKCXyY/lx8qDbQBzlFFFIQUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBt+CLU3vjLRLYEDdeRtyOyncf5V9YA5Ga+cvghZfa/HkUvyf6HbyTEMMk/wAHH4tX0aKYxaKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAGSIssbI4DKwIIIyCK+P9Ss307UruxkJL20zwncMH5Tt6fhX2HXzR8YtN/s3x9fFVxHeKlyvPXIw36qaAOKooopCCiiigAooooAKKKKACiiigAooooAKKKKAPYP2e9UC3Oq6SxHzhbmP8PlNe2V8q/DzWP7C8Z6ZescRGTyJjj+B/l/wNfVNMYtFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBmeJtSTR/D+oai/S2geQfXHH618jlmdi7kl3JZvqeTXvXx71hbXw3baUjDzL6bLDv5acmvBKACiiikIKKKKACiiigAooooAKKKKACiiigAooooA9q/Z4sCLbWdSPSSSOBDt/ugsef8AgQr2KuL+D+m/2b4A00kYkuw10/OfvnIx/wAB212lMYUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFeO/tDaZm30jV1HEbtbSHP975l/k1exVzfxF0g654M1Syj/13lebF7unzKPxK4oA+V6KByBjIHvRSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAHbqR9K+ovhprv8AwkPhCxu5GDXEa+TP/vrx+tfLtemfArxCuneIJtHnk2w6iN0Wf+ey/wCIoA+gKKKKYwooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigApDS1zPxC8Qjw14UvdQRv8ASCvlW49ZG4X8utAHhPxX1z+3PGt4Y5N1tZf6LF9V+/8A+PVx9GSSSzFmPJYnknv/AJ96KQgooooAKKKKACiiigAooooAKKKKACiiigAqews5NR1C1sIcebdTJCnOBljgfzqCu/8AgjpR1Hxul02fL0+Jpj7sfkX+bGgD6HtLdLS1ht4hiOFAiD2AwKmoopjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigApD7UtFAHyh440j+wvFup6eoCxJMXhH/AEzb5l/nWFXsv7Qeij/iW67GoyP9EmP/AI8n/s/5141SEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFSQTTW1xFcQSeXPE6yRuP4WByDUdFAH1j4O1+HxN4etNUiwGkTEsY/5ZyD7yn8a26+c/g54sHh/X/7Pu5Nun6iwUszYEUv8LfQ9DX0ZTGFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAJXz18bPEo1fxEulW8m6000kNj+Kc/e/wC+RxXrPxK8Ujwr4bmuImH264/c2q/7ZH3vovWvmEliSWZmYnJZjkk+p/WkAlFFFAgooooAKKKKACiiigAooooAKKKKACiiigAr374DaP8AYvC0+puoEuozZB/6Zp8q/rurwiws5tRv7Wxgx511KsKZ/vMcCvrvS7GHTNNtbC3XEFtEsUYznCqMD+VMZaooooAKKKKACiiigAooooAKKKKACiiigAoorm9Z8c+GNFLJfazbLIuQY4z5jgg4IKrkjmgDpKK8s1H43aHDkWOn314QcEkLEp9wSSaxrv46zmQfY9AQJ/02uDn/AMdWgD2yivDf+F6aj/0AbT/wIf8A+JrT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ALJX0HTJY0liaORVdHGGVhkEehFAHxtRXqPxS+GZ0bzdZ0KEtp+d09soyYP9pf8AZ/lXlwORkHikIKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAq3penXmr38NhYQGe6mOEQfzPoB3NSaFo1/4g1OHTtNh824l9fuovdm9AK+kvAvgfT/B9niEeffSqPPunHzP7D0X2pjGfDzwZbeD9KMeVmv7jDXM+PvH+6PRRXXdKKKACiiigAooooAKKKKACiiigAooooAKKKKAPnb462rQ+OhOWUrc2kbADqMFlrzyvZP2htNA/sfVlRRgyW0rfxHjeg+nD1437d6QgooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACkfhT6470tW9Jsm1LVrGwQAtdXCRAMeDk4oA+qfB9s1l4V0i2dgzR2kSkj/dFbFMiRIokjjULGgCqB0AHFPpjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAQgEYPIrxz4j/CkzO+reGoUVyC01iowHPrH6H/Zr2SkoA+NSCrFWUqwOCpGCD75pK+j/iB8N7HxUr3tsVs9WC4E2Plk9nA6/WvAdd0TUfD+oNY6pavBMM7cj5ZBz8ynuOKQGdRRRQIKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiignAz2oAK3/CHhLVPFt81vp6qkUWPOuZP9XHn+ZP8AdrpPAPwuv/EBjv8AVhJY6WcEIeJZxgHK+i+9e+aTplnpFjFY2FukFtCuFRR+vufemMzfCPhPS/Cmni1sIQXYDzp3H7yZvVj/AErfoooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAOS+KmjtrXgfUYYk3TwKLmIf7SHdj8RkfjXzApBAK9K+ynUOhUgEEYIPINfK3j3w83hnxVe6cFIt8+dbH1ibp+RyKAOeooopCCiiigAooooAKKKKACiiigAooooAKKKKACiiigArv/gpoz6j4yS9KHydPjMhPbeeFFcATx1wK+j/AIN+Hf7C8Ix3E8ey81I/aJQRyF/gX8ufxoA7wcCloopjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACszXtB0zxDZNZ6paR3MJ6BuGU+qnqD9K06KAPnTxr8K9W0FmudMEmp6f/sr++j/3lHUe4rz5SGGRyDX2XiuH8Y/DHQ/Ee+5iT7Bfkf66BQA3++vQ0AfNlFdH4q8E674Wkc39oZLUH5bqEboj9f7v41znbg5HtSEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUVLbW813cJb20Ms88n3IokLMfwFeo+D/g5d3gW68RyNaQnkWsRzKf95v4aAPOdE0XUtevfsel2clzNxu28Kme7N/CK9z8D/CjTtDKXuqmPUNQHIUj9zEefug9fqa7rR9H07RLJbPTbSK2gUfdjXGfcnufrV6mMB0paKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK89+MfhNvEGgfbrSPdqGn5kRR1kj/iT+or0KigD4zByAc8GivSfjD4HOhXz65YJ/xLbqTMyKP9TIe/+6a82pCCiiigAooooAKKKKACiiigAooooAKKKKACiirmj6Zd61qltptjHvurhtqDsPUn2AyTQB0nww8Jt4p8SRLPGW06zIluSRw391P+Bfyr6bUBRgcAVgeC/DFr4U0KHToNryffnmxgyyHqf8K6CmMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAayq6lWUEHqCK858W/CPRNY8y40z/iV3jc5iXMTH3T/CvSKKAPlrxL4C8R+Gw8l7YmW0T/AJerb95Hj1PdfxFcwpDLkEEexr7LIzXIeJPhv4a8Qb5JbEWt2elxany3/IcH8RQB8x0V6fr/AMFtas8yaPdQ6jH/AM83xDJ+vymvPdV0jU9Gl8rU9PubN/8AptGVB+h6H8KQilRQOvUGigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiigHLBRksegA5oAKK6vQ/hz4r1ohodLe1hP/LW8/cr+R+Y/gK9J0D4J6bbFZdavpr5/wDnlD+6j/Ej5jQB4nYWV3qV2tnYW011cv8AdihTc3+ffivSvC/wZ1O8ZJ9fnFjB1MEJDyn6t91a9r0rR9O0a2+zabZQWkI6LEgXP19fxq/TGY3hzwxpHhq2MGlWUcGfvv1d/wDeY8mtmiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAILy0t760ltbqFJreVSjxuMhgexr5z+JPw/uPCV0buzWSfRZW+Rzybc/3X9vQ19J1HLEk0bRyIHRhtZWGQR70AfG9FeuePPhDLbmS/8MKZYclnsWPzL/1zPcexryaaKSGWSGaN45YztdHXayn0IPSkIZRRRQAUUUUAFFFFABRRRQAUdqO/vXR+EfBWteLJgLGDyrMHD3kq/u1/3f7x9hQBi6bp93qt/BYWEDz3U5wkaDr757AdzX0h8O/Alr4PsvMcrPqc6jz58dP9hfRR+taHg/wdpnhGyaCxRpJpMedcScySn3Pp7V0Q4pjFooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAqOaGKeJopo0kjYYZXXIP4GpKKAOM1n4X+EtW3udNFnK2T5loxiwfXb939K4nVPga+S2ma3xkkR3MX5Dcte00UAfNOpfCnxhYhmXT4ruNRktbTBs/RThq5m/0PV9N3/bdKvrcJgs0kDAKPc9K+vKKAPjLev8AeAPuaWvr2+0bStQlEt7plldSAYDzQI5A9MkVgzfDbwhNvL6HbgvnJUsv5YPFAHzBRX0Yfg94P27RaXI9xctmqB+CHhzJIv8AVAPTzU/+JoA8Cor3qT4H6AV/d6lqat6l0b/2Wqp+Bdh2127H/bFKAPD6K90h+Bukqf32sX0g9FVVqx/wpDw5/wBBDVf+/qf/ABFAHgdFfQlp8F/CsGTM+oXPp5k+Mf8AfIFaFn8KPB9qzN/ZhlJH/LaZ2A/UUAfNRYDqQPqalt4ZrqQRW0Ms8hGQkaFz+QzX1PY+CPDFjGyQ6FYFWOT5kIk/9CzW9DFHBEsUSLHGgwqqMAD2FAHyxpngXxVqez7Nod2EcZDyr5S/m2K6nTfgr4iuQGvbuysgR93Jlce3HFfQNFAHmGj/AAV8P2rB9SurzUGGcpu8mMj6L83/AI9Xc6N4b0TQx/xLNLtbU45eOMbj/wAC61rUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFc34r8FaF4qjJ1GzxcgYW6hOyVf+Bd/oQRXSUUAfPniH4Oa9YFpdJli1ODPCcRSgfQ8H864DUdOvtKm8jUbK4tJeyzRlM/n16+9fYVQ3FvDdQPBcQxzQyAq8cihlYehB6igD45yD0waK+oNR+HPhLUTK0uiwRvIOWhzHj6BTgVj3Pwa8JSx4iS9t2/vRz5P/jwNAHzvRX0BB8E/DMb7pLnUpl/utKo/ktadr8JvB9vKZP7NeU4xtlndl/LNAHzXuG7AIz6Cur0L4d+KdbKmDS5LeEnHnXf7pR74PzH8q+jtI8P6Poqj+ztNtbVgu3fHGAxHXBbqfxNalAHlvhb4N6Vp7CfXJzqcw58oArCPw/ir06CGK3hSGCNIokGFRF2qo9ABUlFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB//9k=";

export default async function generatePdf({
  nFactura,
  fecha,
  cliente,
  cif,
  direccion,
  ciudad,
  concepto,
  precio,
}) {
  const doc = new jsPDF({ unit: "mm", format: "a4" });

  const pageWidth = doc.internal.pageSize.getWidth();
  const pageHeight = doc.internal.pageSize.getHeight();
  const margin = 14;

  // Encabezado y marca (usar ajustes si existen)
  const settings = getSettings?.() || null;
  doc.setFont("helvetica", "bold");
  doc.setFontSize(20);
  doc.setTextColor(17, 24, 39);
  doc.text(settings?.brandTitle || "Tu compañía", margin, 18);
  // Logo: si el usuario subió uno, úsalo; si no, fallback al embebido
  try {
    if (settings?.logoDataUrl) {
      const type = settings.logoDataUrl.startsWith("data:image/png")
        ? "PNG"
        : "JPEG";
      doc.addImage(
        settings.logoDataUrl,
        type,
        pageWidth - margin - 35,
        10,
        35,
        35
      );
    } else {
      doc.addImage(logoBase64, "JPEG", pageWidth - margin - 35, 10, 35, 35);
    }
  } catch (e) {
    // Si el logo fallara, seguimos sin interrumpir la generación
  }

  doc.setFont("helvetica", "normal");
  doc.setFontSize(11);
  doc.setTextColor(55);
  doc.text(settings?.companyName || "Compañía S.L.", margin, 28);
  doc.setFontSize(10);
  doc.setTextColor(90);
  doc.text(
    settings?.cif ? `C.I.F: ${settings.cif}` : "C.I.F: B-12.345.678",
    margin,
    34
  );
  if (settings?.address1) doc.text(String(settings.address1), margin, 40);
  else doc.text("Dirección de tu compañía, 4B", margin, 40);
  if (settings?.address2) doc.text(String(settings.address2), margin, 46);
  else doc.text("41010 Sevilla", margin, 46);

  // Separador
  doc.setDrawColor(230);
  doc.line(margin, 54, pageWidth - margin, 54);

  // Metadatos de factura
  autoTable(doc, {
    head: [["Nº Factura", "Fecha"]],
    body: [[String(nFactura || ""), String(fecha || "")]],
    startY: 58,
    styles: { fontSize: 10, cellPadding: 4 },
    headStyles: { fillColor: [59, 130, 246], textColor: 255, halign: "center" },
    bodyStyles: { textColor: 33 },
    theme: "grid",
    tableWidth: "wrap",
    margin: { left: margin },
  });

  // Bloque de cliente
  const clientStartY = (doc.lastAutoTable?.finalY || 58) + 6;
  doc.setFont("helvetica", "bold");
  doc.setTextColor(31, 41, 55);
  doc.text("Cliente", margin, clientStartY);
  doc.setFont("helvetica", "normal");
  doc.setTextColor(55, 65, 81);
  const clientLines = [cliente, cif, direccion, ciudad].filter(Boolean);
  let y = clientStartY + 6;
  clientLines.forEach((line) => {
    doc.text(String(line), margin, y);
    y += 6;
  });

  // Utilidades de formato
  const fmtEuro = (v) =>
    new Intl.NumberFormat("es-ES", {
      style: "currency",
      currency: "EUR",
    }).format(Number(v || 0));
  const base = Number(precio || 0);
  const ivaRate = 0.1;
  const iva = +(base * ivaRate).toFixed(2);
  const total = +(base + iva).toFixed(2);

  // Tabla de conceptos (simple, 1 línea)
  const itemsStartY = Math.max(y, clientStartY + 24);
  autoTable(doc, {
    head: [["Código", "Concepto", "Cantidad", "Precio", "IVA", "Importe"]],
    body: [
      ["1", String(concepto || ""), "1", fmtEuro(base), "10%", fmtEuro(total)],
    ],
    startY: itemsStartY,
    styles: { fontSize: 10, cellPadding: 6 },
    headStyles: { fillColor: [59, 130, 246], textColor: 255 },
    bodyStyles: { textColor: 33 },
    alternateRowStyles: { fillColor: [249, 250, 251] },
    columnStyles: {
      2: { halign: "right" },
      3: { halign: "right" },
      4: { halign: "right" },
      5: { halign: "right" },
    },
    theme: "grid",
    margin: { left: margin, right: margin },
  });

  // Resumen de totales
  const summaryStartY = (doc.lastAutoTable?.finalY || itemsStartY) + 4;
  const summaryWidth = 70;
  autoTable(doc, {
    body: [
      ["Base imponible", fmtEuro(base)],
      ["IVA (10%)", fmtEuro(iva)],
      [
        { content: "Total", styles: { fontStyle: "bold" } },
        { content: fmtEuro(total), styles: { fontStyle: "bold" } },
      ],
    ],
    startY: summaryStartY,
    theme: "plain",
    styles: { fontSize: 11, cellPadding: 2 },
    columnStyles: { 0: { halign: "right" }, 1: { halign: "right" } },
    tableWidth: summaryWidth,
    margin: { left: pageWidth - margin - summaryWidth },
  });

  // Pie de página
  doc.setFontSize(9);
  doc.setTextColor(120);
  doc.text(
    `Factura generada el ${new Date().toLocaleDateString("es-ES")}`,
    margin,
    pageHeight - 10
  );
  doc.text(
    "Gracias por su confianza.",
    pageWidth - margin - 55,
    pageHeight - 10
  );

  const filename = `invoice_${nFactura}.pdf`;

  // Guardar en IndexedDB (persistencia local sin servidor)
  try {
    const blob = doc.output("blob");
    await saveInvoice({
      id: String(nFactura || Date.now()),
      filename,
      meta: {
        nFactura: String(nFactura || ""),
        fecha: String(fecha || ""),
        cliente: String(cliente || ""),
        total,
      },
      blob,
    });
  } catch (e) {
    // Silenciar errores de persistencia (por ejemplo, navegador no soportado)
    console.warn("No se pudo persistir la factura localmente:", e);
  }

  // Descargar en el momento
  doc.save(filename);
}
